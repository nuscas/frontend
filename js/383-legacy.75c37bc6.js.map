{"version":3,"file":"js/383-legacy.75c37bc6.js","mappings":"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","sources":["webpack://client/./src/types/post.ts","webpack://client/./src/views/EditorPage.vue","webpack://client/./src/views/EditorPage.vue?6989","webpack://client/./node_modules/vue-loader/dist/templateLoader.js","webpack://client/./node_modules/cache-loader/dist/cjs.js","webpack://client/./src/components/SubmissionCard.vue","webpack://client/./src/views/SubmissionsPage.vue"],"sourcesContent":["export const enum ArticleStatus {\r\n    AWAITING_WRITER = 'Edited, awaiting writer approval',\r\n    AWAITING_EDITOR = \"Submitted, awaiting editor's approval/ edits\",\r\n    POSTED = 'Posted',\r\n    POSTED_AWAITING_WRITER = \"Posted, awaiting writer's approval/ edits\",\r\n    POSTED_AWAITING_EDITOR = \"Posted, awaiting editor's approval/ edits\"\r\n  }\r\nexport default interface Article{\r\n    _id: String;\r\n    title: String,\r\n    subtitle: String,\r\n    content: Object,\r\n    writer: String,\r\n    status: ArticleStatus\r\n    previewImg: Object\r\n    postedDate: Date,\r\n    editedDate: Date,\r\n    submittedDate: Date,\r\n    comments: Comment[]\r\n}\r\n\r\nexport interface Comment{\r\n  user: String,\r\n  content: String\r\n  dateTime: Date;\r\n}\r\n","<template>\r\n  <div class=\"home container\" v-if=\"user != null && user.role === 'admin'\">\r\n    <h1>All Submissions</h1>\r\n    <Submissions ref=\"submissions\" :isAdmin='true'></Submissions>\r\n  </div>\r\n  <div v-else>This page is for admins only!</div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport Submissions from \"@/views/SubmissionsPage.vue\";\r\nimport { defineComponent } from 'vue';\r\nconst axios = require(\"axios\").default;\r\nconst url = process.env.VUE_APP_API_URL + \"/submissions\";\r\n\r\nexport default defineComponent({\r\n  name: \"Write\",\r\n  components: {\r\n    Submissions,\r\n  },\r\n  methods: {\r\n    onPost(article) {\r\n      axios\r\n        .post(url, {\r\n          title: article.title,\r\n          subtitle:article.subtitle,\r\n          content: article.content,\r\n          token: this.token,\r\n        })\r\n        .catch((error) => {\r\n          alert(\"Post failed(\" + error.code + \")\");\r\n        })\r\n        .then((res) => {\r\n          if (res.data == \"OK\") alert(\"Post success\"), this.$emit(\"posted\");\r\n          else alert(\"Post failed \" + res.statusText);\r\n          this.$refs.submissions.get()\r\n        });\r\n    },\r\n  },\r\n  computed: {\r\n    user() {\r\n      return this.$store.getters.user;\r\n    },\r\n    token() {\r\n      return this.$store.getters.token;\r\n    },\r\n  },\r\n  mounted() {\r\n      document.title =\"NUSCAS\" + \" | \" + \"All Submissions\";\r\n  }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","import { render } from \"./EditorPage.vue?vue&type=template&id=731ff0f5\"\nimport script from \"./EditorPage.vue?vue&type=script&lang=js\"\nexport * from \"./EditorPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/c/Users/Yuanzheng/OneDrive - National University of Singapore/Code/nuscas.com/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4402bce3\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"Posts container\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_SubmissionCard = _resolveComponent(\"SubmissionCard\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.posts, (post) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: \"cards\",\n        key: post._id\n      }, [\n        _createVNode(_component_SubmissionCard, {\n          class: \"card\",\n          id: post._id,\n          title: post.title,\n          subtitle: post.subtitle,\n          writer: post.writer,\n          user: _ctx.user != null,\n          status: post.status,\n          previewImg: post.previewImg,\n          date: post.submittedDate\n        }, null, 8, [\"id\", \"title\", \"subtitle\", \"writer\", \"user\", \"status\", \"previewImg\", \"date\"])\n      ]))\n    }), 128))\n  ]))\n}","\r\nimport { defineComponent } from \"vue\";\r\nimport { ArticleStatus } from \"../types/post\";\r\nconst moment = require(\"moment\");\r\n\r\nexport default defineComponent({\r\n  name: \"SubmissionCard\",\r\n  props: {\r\n    id: { type: String, required: true },\r\n    title: { type: String, required: true },\r\n    subtitle: String,\r\n    writer: { type: String, required: true },\r\n    user: Boolean,\r\n    status: { type: String, required: true },\r\n    previewImg: String,\r\n    date: { type: String, required: true }\r\n  },\r\n  data() {\r\n    return {\r\n      postUrl: \"/submissions/\" + this.id + \"/\"\r\n    };\r\n  },\r\n  methods: {\r\n    getImgUrl() {\r\n      return this.previewImg;\r\n    },\r\n    getPostBackgroundColor() {\r\n      if (this.status === ArticleStatus.AWAITING_WRITER || this.status ===ArticleStatus.POSTED_AWAITING_WRITER)\r\n        return \"has-background-danger-light\";\r\n      else if (this.status === ArticleStatus.POSTED)\r\n        return \"has-background-success\";\r\n      return \"has-background-warning-light\";\r\n    },\r\n    getFormattedDateTime(date: String) {\r\n      return moment(date).format(\"DD MMM YYYY\");\r\n    }\r\n  }\r\n});\r\n","import { render } from \"./SubmissionCard.vue?vue&type=template&id=277c6cd8&scoped=true&ts=true\"\nimport script from \"./SubmissionCard.vue?vue&type=script&lang=ts\"\nexport * from \"./SubmissionCard.vue?vue&type=script&lang=ts\"\n\nimport \"./SubmissionCard.vue?vue&type=style&index=0&id=277c6cd8&lang=scss&scoped=true\"\n\nimport exportComponent from \"/mnt/c/Users/Yuanzheng/OneDrive - National University of Singapore/Code/nuscas.com/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-277c6cd8\"]])\n\nexport default __exports__","import { render } from \"./SubmissionsPage.vue?vue&type=template&id=4402bce3&scoped=true&ts=true\"\nimport script from \"./SubmissionsPage.vue?vue&type=script&lang=ts\"\nexport * from \"./SubmissionsPage.vue?vue&type=script&lang=ts\"\n\nimport \"./SubmissionsPage.vue?vue&type=style&index=0&id=4402bce3&scoped=true&lang=scss\"\n\nimport exportComponent from \"/mnt/c/Users/Yuanzheng/OneDrive - National University of Singapore/Code/nuscas.com/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4402bce3\"]])\n\nexport default __exports__"],"names":["ArticleStatus","class","_createElementVNode","_ctx","role","_createElementBlock","_hoisted_2","_createVNode","_component_Submissions","ref","isAdmin","_hoisted_3","axios","require","url","process","defineComponent","name","components","Submissions","methods","onPost","article","post","title","subtitle","content","token","this","catch","error","alert","code","then","res","data","$emit","statusText","$refs","submissions","get","computed","user","$store","getters","mounted","document","__exports__","render","_hoisted_1","_cache","$props","$setup","$data","$options","_component_SubmissionCard","_resolveComponent","_openBlock","_Fragment","_renderList","posts","key","_id","id","writer","status","previewImg","date","submittedDate","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_component_router_link","src","getImgUrl","_createCommentVNode","to","path","postUrl","default","_withCtx","_toDisplayString","getFormattedDateTime","_","_normalizeClass","getPostBackgroundColor","moment","props","type","String","required","Boolean","format","SubmissionCard","params","watch","updated","handler","old_val","new_val"],"sourceRoot":""}